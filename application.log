2025-11-12T00:09:19.189+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] c.g.q.controller.FactsController         : [FactController] >> [getFactsByCategory] categoryId:210
2025-11-12T00:09:19.237+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : SELECT * FROM FACT_DETAILS
WHERE category_id = ?
ORDER BY RAND()
LIMIT ?

2025-11-12T00:16:51.381+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T00:16:51.382+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM FACT_DETAILS
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T00:16:51.529+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T00:16:51.532+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T00:16:51.625+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":2,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T00:16:51.626+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 2, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T00:16:51.634+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T00:16:58.589+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:16:58.590+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:16:58.594+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:16:58.602+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:16:58.608+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:16:58.612+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:21:18.034+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-1] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T00:21:18.035+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        : SELECT * FROM FACT_DETAILS
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T00:21:18.177+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T00:21:18.181+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T00:21:18.303+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":2,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T00:21:18.305+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 2, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T00:21:18.307+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T00:22:03.081+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:22:03.083+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:22:03.088+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:22:03.093+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:22:03.095+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:22:03.096+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:22:21.098+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T00:22:21.099+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        : SELECT * FROM FACT_DETAILS
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T00:22:21.216+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T00:22:21.218+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T00:22:21.293+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":2,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T00:22:21.294+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 2, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T00:22:21.295+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T00:24:38.203+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T00:24:38.203+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM FACT_DETAILS
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T00:24:38.320+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T00:24:38.323+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T00:24:38.497+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":2,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T00:24:38.498+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 2, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T00:24:38.501+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T00:24:47.916+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:24:47.917+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:24:47.923+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:24:47.929+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:24:47.933+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:24:47.936+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:26:58.935+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-1] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T00:26:58.936+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        : SELECT * FROM FACT_DETAILS
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T00:26:59.040+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T00:26:59.043+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T00:26:59.109+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":2,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T00:26:59.111+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 2, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T00:26:59.114+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T00:27:07.230+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:27:07.231+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:27:07.235+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:27:07.241+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:27:07.245+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:27:07.249+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:30:56.836+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T00:30:56.837+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : SELECT * FROM FACT_DETAILS
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T00:30:56.906+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T00:30:56.909+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T00:30:56.994+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":2,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T00:30:56.995+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 2, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T00:30:56.997+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T00:31:04.405+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:31:04.405+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:31:04.409+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:31:04.415+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:31:04.420+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:31:04.423+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:31:30.397+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T00:31:30.398+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : SELECT * FROM FACT_DETAILS
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T00:31:30.474+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T00:31:30.476+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T00:31:30.536+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":2,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T00:31:30.537+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 2, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T00:31:30.539+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T00:31:36.541+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-10] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:31:36.542+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-10] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:31:36.546+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-10] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:31:36.553+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-10] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:31:36.556+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-10] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:31:36.559+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-10] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:57:41.438+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:57:41.440+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:41.446+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:41.458+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:41.462+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:41.466+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-2] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:57:50.464+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:57:50.465+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:50.469+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:50.475+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:50.480+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:50.485+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:57:50.846+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:57:50.850+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:50.854+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:50.861+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:50.864+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:50.866+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-4] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:57:53.718+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:57:53.718+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:53.739+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:53.832+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:53.855+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:53.882+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-5] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:57:56.983+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:57:56.984+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:56.991+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:57.005+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:57:57.009+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:57:57.032+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-6] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T00:58:06.128+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Discover tab data
2025-11-12T00:58:06.129+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:58:06.133+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:58:06.139+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM FACT_TYPE WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T00:58:06.144+08:00 DEBUG 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T00:58:06.147+08:00  INFO 33252 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] ✅ Discover data ready with 4 sections
2025-11-12T05:04:35.479+08:00  WARN 33252 --- [quotes-facts-service] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h2s168ms188µs900ns).
2025-11-12T09:42:41.969+08:00  WARN 33252 --- [quotes-facts-service] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h38m9s496ms327µs400ns).
2025-11-12T18:04:12.467+08:00  INFO 3508 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : Starting QuotesFactsApplication using Java 24.0.2 with PID 3508 (E:\Java_WS\QuotesFacts_BE\target\classes started by itsgv in E:\Java_WS\QuotesFacts_BE)
2025-11-12T18:04:12.469+08:00  INFO 3508 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : The following 1 profile is active: "dev"
2025-11-12T18:04:13.262+08:00  INFO 3508 --- [quotes-facts-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12T18:04:13.321+08:00  INFO 3508 --- [quotes-facts-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2025-11-12T18:04:13.859+08:00  INFO 3508 --- [quotes-facts-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8386 (http)
2025-11-12T18:04:13.874+08:00  INFO 3508 --- [quotes-facts-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T18:04:13.874+08:00  INFO 3508 --- [quotes-facts-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12T18:04:13.918+08:00  INFO 3508 --- [quotes-facts-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T18:04:13.918+08:00  INFO 3508 --- [quotes-facts-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1404 ms
2025-11-12T18:04:14.092+08:00  INFO 3508 --- [quotes-facts-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12T18:04:14.141+08:00  INFO 3508 --- [quotes-facts-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12T18:04:14.176+08:00  INFO 3508 --- [quotes-facts-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-12T18:04:14.275+08:00  INFO 3508 --- [quotes-facts-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-12T18:04:14.277+08:00  WARN 3508 --- [quotes-facts-service] [main] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2025-11-12T18:04:14.583+08:00  INFO 3508 --- [quotes-facts-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20820df0
2025-11-12T18:04:14.584+08:00  INFO 3508 --- [quotes-facts-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-12T18:04:14.635+08:00  WARN 3508 --- [quotes-facts-service] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-12T18:04:14.636+08:00  WARN 3508 --- [quotes-facts-service] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-12T18:04:14.648+08:00  INFO 3508 --- [quotes-facts-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12T18:04:14.827+08:00  INFO 3508 --- [quotes-facts-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12T18:04:15.544+08:00  INFO 3508 --- [quotes-facts-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12T18:04:15.626+08:00  INFO 3508 --- [quotes-facts-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12T18:04:15.870+08:00  INFO 3508 --- [quotes-facts-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12T18:04:16.863+08:00  WARN 3508 --- [quotes-facts-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12T18:04:17.315+08:00  INFO 3508 --- [quotes-facts-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8386 (http) with context path '/'
2025-11-12T18:04:17.322+08:00  INFO 3508 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : Started QuotesFactsApplication in 5.335 seconds (process running for 5.771)
2025-11-12T18:05:49.339+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12T18:05:49.340+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-12T18:05:49.341+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-11-12T18:05:49.380+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-1] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T18:05:49.411+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        :     SELECT * FROM fact_details
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T18:05:49.595+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        :     SELECT * FROM fact_type
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T18:05:49.602+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-1] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T18:05:50.249+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-2] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [saveOrUpdate] userDTO: {"id":3,"deviceId":"BE2A.250530.026.D1","deviceOs":"Android","appName":"facts","packageName":"com.gvapps.facts","fcmToken":"SAMPLE_FCM_TOKEN","name":"","userName":"","email":"","countryCode":"US","language":"en","appVersion":"1.0","osVersion":"16","deviceModel":"sdk_gphone64_x86_64","timezone":"","emulator":true,"active":null,"isPremium":false,"darkMode":true,"notificationEnabled":true,"syncStatus":1,"sessionCount":0,"appOpenCount":6,"appRating":0,"engagementScore":0.0,"lastLogin":null,"updatedAt":null,"createdAt":null}
2025-11-12T18:05:50.259+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : select ue1_0.id,ue1_0.active,ue1_0.app_name,ue1_0.app_open_count,ue1_0.app_rating,ue1_0.app_version,ue1_0.country_code,ue1_0.created_at,ue1_0.dark_mode,ue1_0.device_id,ue1_0.device_model,ue1_0.device_os,ue1_0.email,ue1_0.emulator,ue1_0.engagement_score,ue1_0.fcm_token,ue1_0.is_premium,ue1_0.language,ue1_0.last_login,ue1_0.name,ue1_0.notification_enabled,ue1_0.os_version,ue1_0.package_name,ue1_0.session_count,ue1_0.sync_status,ue1_0.timezone,ue1_0.updated_at,ue1_0.user_name from users ue1_0 where ue1_0.id=?
2025-11-12T18:05:50.267+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : select ue1_0.id,ue1_0.active,ue1_0.app_name,ue1_0.app_open_count,ue1_0.app_rating,ue1_0.app_version,ue1_0.country_code,ue1_0.created_at,ue1_0.dark_mode,ue1_0.device_id,ue1_0.device_model,ue1_0.device_os,ue1_0.email,ue1_0.emulator,ue1_0.engagement_score,ue1_0.fcm_token,ue1_0.is_premium,ue1_0.language,ue1_0.last_login,ue1_0.name,ue1_0.notification_enabled,ue1_0.os_version,ue1_0.package_name,ue1_0.session_count,ue1_0.sync_status,ue1_0.timezone,ue1_0.updated_at,ue1_0.user_name from users ue1_0 where ue1_0.id=?
2025-11-12T18:05:50.271+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-2] org.hibernate.SQL                        : select ue1_0.id,ue1_0.active,ue1_0.app_name,ue1_0.app_open_count,ue1_0.app_rating,ue1_0.app_version,ue1_0.country_code,ue1_0.created_at,ue1_0.dark_mode,ue1_0.device_id,ue1_0.device_model,ue1_0.device_os,ue1_0.email,ue1_0.emulator,ue1_0.engagement_score,ue1_0.fcm_token,ue1_0.is_premium,ue1_0.language,ue1_0.last_login,ue1_0.name,ue1_0.notification_enabled,ue1_0.os_version,ue1_0.package_name,ue1_0.session_count,ue1_0.sync_status,ue1_0.timezone,ue1_0.updated_at,ue1_0.user_name from users ue1_0 where ue1_0.id=?
2025-11-12T18:05:50.281+08:00 ERROR 3508 --- [quotes-facts-service] [http-nio-8386-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [com.gvapps.quotesfacts.entity.UserEntity#3]] with root cause

org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [com.gvapps.quotesfacts.entity.UserEntity#3]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.12.jar:6.2.12]
	at jdk.proxy2/jdk.proxy2.$Proxy130.merge(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.12.jar:6.2.12]
	at jdk.proxy2/jdk.proxy2.$Proxy130.merge(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:657) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy2/jdk.proxy2.$Proxy139.save(Unknown Source) ~[na:na]
	at com.gvapps.quotesfacts.service.impl.UserServiceImpl.saveOrUpdate(UserServiceImpl.java:47) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.gvapps.quotesfacts.service.impl.UserServiceImpl$$SpringCGLIB$$0.saveOrUpdate(<generated>) ~[classes/:na]
	at com.gvapps.quotesfacts.controller.UserController.saveOrUpdate(UserController.java:26) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.48.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.48.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at com.gvapps.quotesfacts.config.RequestResponseLogger.doFilterInternal(RequestResponseLogger.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at java.base/java.lang.Thread.run(Thread.java:1447) ~[na:na]

2025-11-12T18:05:50.741+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":3,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T18:05:50.743+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 3, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T18:05:50.782+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T18:05:50.787+08:00  WARN 3508 --- [quotes-facts-service] [http-nio-8386-exec-3] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] No user found with id: 3 and appName: facts
2025-11-12T18:05:50.790+08:00 ERROR 3508 --- [quotes-facts-service] [http-nio-8386-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found for id: 3 and appName: facts] with root cause

java.lang.RuntimeException: User not found for id: 3 and appName: facts
	at com.gvapps.quotesfacts.service.impl.UserServiceImpl.updateNotificationAndFcmToken(UserServiceImpl.java:80) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.gvapps.quotesfacts.service.impl.UserServiceImpl$$SpringCGLIB$$0.updateNotificationAndFcmToken(<generated>) ~[classes/:na]
	at com.gvapps.quotesfacts.controller.UserController.updateNotification(UserController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.48.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.48.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at com.gvapps.quotesfacts.config.RequestResponseLogger.doFilterInternal(RequestResponseLogger.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at java.base/java.lang.Thread.run(Thread.java:1447) ~[na:na]

2025-11-12T18:11:26.136+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-4] c.g.q.service.impl.FactTypeServiceImpl   : [FactTypeServiceImpl] >> Fetching Home tab data
2025-11-12T18:11:26.136+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        :     SELECT * FROM fact_details
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T18:11:26.207+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        :     SELECT * FROM fact_type
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T18:11:26.212+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-4] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T18:11:26.673+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-5] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [saveOrUpdate] userDTO: {"id":3,"deviceId":"BE2A.250530.026.D1","deviceOs":"Android","appName":"facts","packageName":"com.gvapps.facts","fcmToken":"SAMPLE_FCM_TOKEN","name":"","userName":"","email":"","countryCode":"US","language":"en","appVersion":"1.0","osVersion":"16","deviceModel":"sdk_gphone64_x86_64","timezone":"","emulator":true,"active":null,"isPremium":false,"darkMode":true,"notificationEnabled":true,"syncStatus":1,"sessionCount":0,"appOpenCount":7,"appRating":0,"engagementScore":0.0,"lastLogin":null,"updatedAt":null,"createdAt":null}
2025-11-12T18:11:26.674+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : select ue1_0.id,ue1_0.active,ue1_0.app_name,ue1_0.app_open_count,ue1_0.app_rating,ue1_0.app_version,ue1_0.country_code,ue1_0.created_at,ue1_0.dark_mode,ue1_0.device_id,ue1_0.device_model,ue1_0.device_os,ue1_0.email,ue1_0.emulator,ue1_0.engagement_score,ue1_0.fcm_token,ue1_0.is_premium,ue1_0.language,ue1_0.last_login,ue1_0.name,ue1_0.notification_enabled,ue1_0.os_version,ue1_0.package_name,ue1_0.session_count,ue1_0.sync_status,ue1_0.timezone,ue1_0.updated_at,ue1_0.user_name from users ue1_0 where ue1_0.id=?
2025-11-12T18:11:26.675+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : select ue1_0.id,ue1_0.active,ue1_0.app_name,ue1_0.app_open_count,ue1_0.app_rating,ue1_0.app_version,ue1_0.country_code,ue1_0.created_at,ue1_0.dark_mode,ue1_0.device_id,ue1_0.device_model,ue1_0.device_os,ue1_0.email,ue1_0.emulator,ue1_0.engagement_score,ue1_0.fcm_token,ue1_0.is_premium,ue1_0.language,ue1_0.last_login,ue1_0.name,ue1_0.notification_enabled,ue1_0.os_version,ue1_0.package_name,ue1_0.session_count,ue1_0.sync_status,ue1_0.timezone,ue1_0.updated_at,ue1_0.user_name from users ue1_0 where ue1_0.id=?
2025-11-12T18:11:26.676+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-5] org.hibernate.SQL                        : select ue1_0.id,ue1_0.active,ue1_0.app_name,ue1_0.app_open_count,ue1_0.app_rating,ue1_0.app_version,ue1_0.country_code,ue1_0.created_at,ue1_0.dark_mode,ue1_0.device_id,ue1_0.device_model,ue1_0.device_os,ue1_0.email,ue1_0.emulator,ue1_0.engagement_score,ue1_0.fcm_token,ue1_0.is_premium,ue1_0.language,ue1_0.last_login,ue1_0.name,ue1_0.notification_enabled,ue1_0.os_version,ue1_0.package_name,ue1_0.session_count,ue1_0.sync_status,ue1_0.timezone,ue1_0.updated_at,ue1_0.user_name from users ue1_0 where ue1_0.id=?
2025-11-12T18:11:26.679+08:00 ERROR 3508 --- [quotes-facts-service] [http-nio-8386-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [com.gvapps.quotesfacts.entity.UserEntity#3]] with root cause

org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [com.gvapps.quotesfacts.entity.UserEntity#3]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:426) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:214) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.12.jar:6.2.12]
	at jdk.proxy2/jdk.proxy2.$Proxy130.merge(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.12.jar:6.2.12]
	at jdk.proxy2/jdk.proxy2.$Proxy130.merge(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:657) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy2/jdk.proxy2.$Proxy139.save(Unknown Source) ~[na:na]
	at com.gvapps.quotesfacts.service.impl.UserServiceImpl.saveOrUpdate(UserServiceImpl.java:47) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.gvapps.quotesfacts.service.impl.UserServiceImpl$$SpringCGLIB$$0.saveOrUpdate(<generated>) ~[classes/:na]
	at com.gvapps.quotesfacts.controller.UserController.saveOrUpdate(UserController.java:26) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.48.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.48.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at com.gvapps.quotesfacts.config.RequestResponseLogger.doFilterInternal(RequestResponseLogger.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at java.base/java.lang.Thread.run(Thread.java:1447) ~[na:na]

2025-11-12T18:11:27.116+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.controller.UserController          : [UserController] >> [updateNotification] request: {"id":3,"appName":"facts","notificationEnabled":true,"fcmToken":"NEW_FCM_TOKEN_123"}
2025-11-12T18:11:27.116+08:00  INFO 3508 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] id: 3, appName: facts, notificationEnabled: true, fcmToken: NEW_FCM_TOKEN_123
2025-11-12T18:11:27.117+08:00 DEBUG 3508 --- [quotes-facts-service] [http-nio-8386-exec-7] org.hibernate.SQL                        : update users ue1_0 set notification_enabled=?,fcm_token=?,updated_at=current_timestamp(6) where ue1_0.id=? and ue1_0.app_name=?
2025-11-12T18:11:27.119+08:00  WARN 3508 --- [quotes-facts-service] [http-nio-8386-exec-7] c.g.q.service.impl.UserServiceImpl       : [UserServiceImpl] >> [updateNotificationAndFcmToken] No user found with id: 3 and appName: facts
2025-11-12T18:11:27.122+08:00 ERROR 3508 --- [quotes-facts-service] [http-nio-8386-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found for id: 3 and appName: facts] with root cause

java.lang.RuntimeException: User not found for id: 3 and appName: facts
	at com.gvapps.quotesfacts.service.impl.UserServiceImpl.updateNotificationAndFcmToken(UserServiceImpl.java:80) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.gvapps.quotesfacts.service.impl.UserServiceImpl$$SpringCGLIB$$0.updateNotificationAndFcmToken(<generated>) ~[classes/:na]
	at com.gvapps.quotesfacts.controller.UserController.updateNotification(UserController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.48.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.48.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at com.gvapps.quotesfacts.config.RequestResponseLogger.doFilterInternal(RequestResponseLogger.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.48.jar:10.1.48]
	at java.base/java.lang.Thread.run(Thread.java:1447) ~[na:na]

2025-11-12T18:45:39.999+08:00  WARN 3508 --- [quotes-facts-service] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m55s65ms36µs200ns).
2025-11-12T19:36:11.135+08:00  INFO 3508 --- [quotes-facts-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T19:36:11.143+08:00  INFO 3508 --- [quotes-facts-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T19:36:11.149+08:00  INFO 3508 --- [quotes-facts-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12T19:36:11.154+08:00  INFO 3508 --- [quotes-facts-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-12T19:36:11.158+08:00  INFO 3508 --- [quotes-facts-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-12T19:36:14.915+08:00  INFO 31196 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : Starting QuotesFactsApplication using Java 24.0.2 with PID 31196 (E:\Java_WS\QuotesFacts_BE\target\classes started by itsgv in E:\Java_WS\QuotesFacts_BE)
2025-11-12T19:36:14.916+08:00  INFO 31196 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : The following 1 profile is active: "dev"
2025-11-12T19:36:15.692+08:00  INFO 31196 --- [quotes-facts-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12T19:36:15.757+08:00  INFO 31196 --- [quotes-facts-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 4 JPA repository interfaces.
2025-11-12T19:36:16.309+08:00  INFO 31196 --- [quotes-facts-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8386 (http)
2025-11-12T19:36:16.323+08:00  INFO 31196 --- [quotes-facts-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T19:36:16.324+08:00  INFO 31196 --- [quotes-facts-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12T19:36:16.367+08:00  INFO 31196 --- [quotes-facts-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T19:36:16.367+08:00  INFO 31196 --- [quotes-facts-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1412 ms
2025-11-12T19:36:16.560+08:00  INFO 31196 --- [quotes-facts-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12T19:36:16.605+08:00  INFO 31196 --- [quotes-facts-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12T19:36:16.633+08:00  INFO 31196 --- [quotes-facts-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-12T19:36:16.710+08:00  INFO 31196 --- [quotes-facts-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-12T19:36:16.713+08:00  WARN 31196 --- [quotes-facts-service] [main] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2025-11-12T19:36:17.020+08:00  INFO 31196 --- [quotes-facts-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@121ddca4
2025-11-12T19:36:17.021+08:00  INFO 31196 --- [quotes-facts-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-12T19:36:17.057+08:00  WARN 31196 --- [quotes-facts-service] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-12T19:36:17.058+08:00  WARN 31196 --- [quotes-facts-service] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-12T19:36:17.069+08:00  INFO 31196 --- [quotes-facts-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12T19:36:17.209+08:00  INFO 31196 --- [quotes-facts-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12T19:36:17.850+08:00  INFO 31196 --- [quotes-facts-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12T19:36:17.895+08:00  INFO 31196 --- [quotes-facts-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12T19:36:18.119+08:00  INFO 31196 --- [quotes-facts-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12T19:36:19.077+08:00  WARN 31196 --- [quotes-facts-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12T19:36:19.529+08:00  INFO 31196 --- [quotes-facts-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8386 (http) with context path '/'
2025-11-12T19:36:19.537+08:00  INFO 31196 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : Started QuotesFactsApplication in 5.044 seconds (process running for 5.311)
2025-11-12T19:37:01.263+08:00  INFO 31196 --- [quotes-facts-service] [http-nio-8386-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12T19:37:01.263+08:00  INFO 31196 --- [quotes-facts-service] [http-nio-8386-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-12T19:37:01.264+08:00  INFO 31196 --- [quotes-facts-service] [http-nio-8386-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-11-12T19:37:01.285+08:00  INFO 31196 --- [quotes-facts-service] [http-nio-8386-exec-1] c.g.q.controller.HealthCheckController   : [HealthCheckController] >> [check]
2025-11-12T19:37:04.968+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-3] org.hibernate.SQL                        : select fte1_0.category_id,fte1_0.active,fte1_0.added_date,fte1_0.description,fte1_0.external_url,fte1_0.featured,fte1_0.horizontal_image,fte1_0.horizontal_image_with_text,fte1_0.icon,fte1_0.image,fte1_0.large_image,fte1_0.name,fte1_0.preview_image,fte1_0.short_description,fte1_0.tags,fte1_0.type,fte1_0.type_id,fte1_0.updated_date,fte1_0.vertical_image,fte1_0.vertical_image_with_text,fte1_0.views from fact_type fte1_0 where fte1_0.type_id=? and fte1_0.active
2025-11-12T20:00:49.044+08:00  WARN 31196 --- [quotes-facts-service] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=23m31s911ms747µs600ns).
2025-11-12T20:01:31.000+08:00  WARN 31196 --- [quotes-facts-service] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s184ms562µs600ns).
2025-11-12T20:57:14.339+08:00  WARN 31196 --- [quotes-facts-service] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52m43s277ms503µs600ns).
2025-11-12T20:58:03.842+08:00  WARN 31196 --- [quotes-facts-service] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s503ms588µs700ns).
2025-11-12T20:58:35.833+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-6] org.hibernate.SQL                        : select fte1_0.category_id,fte1_0.active,fte1_0.added_date,fte1_0.description,fte1_0.external_url,fte1_0.featured,fte1_0.horizontal_image,fte1_0.horizontal_image_with_text,fte1_0.icon,fte1_0.image,fte1_0.large_image,fte1_0.name,fte1_0.preview_image,fte1_0.short_description,fte1_0.tags,fte1_0.type,fte1_0.type_id,fte1_0.updated_date,fte1_0.vertical_image,fte1_0.vertical_image_with_text,fte1_0.views from fact_type fte1_0 where fte1_0.type_id=? and fte1_0.active
2025-11-12T20:58:35.836+08:00  WARN 31196 --- [quotes-facts-service] [http-nio-8386-exec-6] c.g.q.exception.GlobalExceptionHandler   : [GlobalExceptionHandler] ApiException: 404 - No categories found for typeId: 1100
2025-11-12T20:58:55.558+08:00  INFO 31196 --- [quotes-facts-service] [http-nio-8386-exec-8] c.g.q.service.impl.FactTypeServiceImpl   : [getDiscoverTabData] >> Fetching Discover tab data
2025-11-12T20:58:55.588+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : SELECT * FROM fact_type WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T20:58:55.605+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T20:58:55.667+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : SELECT * FROM fact_type WHERE type_id = ? AND active = true ORDER BY RAND() LIMIT ?
2025-11-12T20:58:55.671+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-8] org.hibernate.SQL                        : SELECT * FROM articles WHERE JSON_SEARCH(tags, 'one', ?) IS NOT NULL AND active = true LIMIT ?
2025-11-12T20:58:55.672+08:00  INFO 31196 --- [quotes-facts-service] [http-nio-8386-exec-8] c.g.q.service.impl.FactTypeServiceImpl   : [getDiscoverTabData] ✅ Discover tab ready with 4 sections
2025-11-12T20:59:02.060+08:00  INFO 31196 --- [quotes-facts-service] [http-nio-8386-exec-9] c.g.q.service.impl.FactTypeServiceImpl   : [getHomeTabData] >> Fetching Home tab data
2025-11-12T20:59:02.061+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        :     SELECT * FROM fact_details
WHERE LENGTH(text) < 160
ORDER BY RAND()
LIMIT 5

2025-11-12T20:59:02.141+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        :     SELECT * FROM fact_type
WHERE active = TRUE
ORDER BY views DESC
LIMIT 4

2025-11-12T20:59:02.145+08:00 DEBUG 31196 --- [quotes-facts-service] [http-nio-8386-exec-9] org.hibernate.SQL                        : SELECT * FROM articles
WHERE active = TRUE
ORDER BY views DESC
LIMIT 5

2025-11-12T20:59:02.151+08:00  INFO 31196 --- [quotes-facts-service] [http-nio-8386-exec-9] c.g.q.service.impl.FactTypeServiceImpl   : [getHomeTabData] ✅ Home dashboard ready with 3 sections
2025-11-12T21:02:37.954+08:00  INFO 31196 --- [quotes-facts-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T21:02:37.959+08:00  INFO 31196 --- [quotes-facts-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T21:02:37.961+08:00  INFO 31196 --- [quotes-facts-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12T21:02:37.963+08:00  INFO 31196 --- [quotes-facts-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-12T21:02:37.966+08:00  INFO 31196 --- [quotes-facts-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-12T21:02:39.819+08:00  INFO 11816 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : Starting QuotesFactsApplication using Java 24.0.2 with PID 11816 (E:\Java_WS\QuotesFacts_BE\target\classes started by itsgv in E:\Java_WS\QuotesFacts_BE)
2025-11-12T21:02:39.821+08:00  INFO 11816 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : The following 1 profile is active: "dev"
2025-11-12T21:02:41.750+08:00  INFO 11816 --- [quotes-facts-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12T21:02:42.076+08:00  INFO 11816 --- [quotes-facts-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 284 ms. Found 4 JPA repository interfaces.
2025-11-12T21:02:45.966+08:00  INFO 11816 --- [quotes-facts-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8386 (http)
2025-11-12T21:02:45.979+08:00  INFO 11816 --- [quotes-facts-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T21:02:45.979+08:00  INFO 11816 --- [quotes-facts-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12T21:02:46.028+08:00  INFO 11816 --- [quotes-facts-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T21:02:46.028+08:00  INFO 11816 --- [quotes-facts-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6172 ms
2025-11-12T21:02:46.186+08:00  INFO 11816 --- [quotes-facts-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12T21:02:46.235+08:00  INFO 11816 --- [quotes-facts-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12T21:02:46.263+08:00  INFO 11816 --- [quotes-facts-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-12T21:02:46.350+08:00  INFO 11816 --- [quotes-facts-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-12T21:02:46.352+08:00  WARN 11816 --- [quotes-facts-service] [main] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2025-11-12T21:02:46.675+08:00  INFO 11816 --- [quotes-facts-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4751cd3
2025-11-12T21:02:46.676+08:00  INFO 11816 --- [quotes-facts-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-12T21:02:46.709+08:00  WARN 11816 --- [quotes-facts-service] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-12T21:02:46.710+08:00  WARN 11816 --- [quotes-facts-service] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-12T21:02:46.723+08:00  INFO 11816 --- [quotes-facts-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12T21:02:46.866+08:00  INFO 11816 --- [quotes-facts-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12T21:02:47.558+08:00  INFO 11816 --- [quotes-facts-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12T21:02:47.600+08:00  INFO 11816 --- [quotes-facts-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12T21:02:47.835+08:00  INFO 11816 --- [quotes-facts-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12T21:02:48.867+08:00  WARN 11816 --- [quotes-facts-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12T21:02:49.491+08:00  INFO 11816 --- [quotes-facts-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8386 (http) with context path '/'
2025-11-12T21:02:49.498+08:00  INFO 11816 --- [quotes-facts-service] [main] c.g.quotesfacts.QuotesFactsApplication   : Started QuotesFactsApplication in 10.113 seconds (process running for 10.413)
2025-11-12T21:10:39.725+08:00  INFO 11816 --- [quotes-facts-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T21:10:39.729+08:00  INFO 11816 --- [quotes-facts-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T21:10:39.732+08:00  INFO 11816 --- [quotes-facts-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12T21:10:39.733+08:00  INFO 11816 --- [quotes-facts-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-12T21:10:39.736+08:00  INFO 11816 --- [quotes-facts-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
